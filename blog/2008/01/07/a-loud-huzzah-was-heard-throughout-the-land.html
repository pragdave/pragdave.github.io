<!DOCTYPE html>
<html lang="en">

  




<head>
  <title>
  
     A loud &quot;Huzzah!&quot; was heard throughout the land
  
</title>


  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="
  Eric Hodel is giving RDoc some love. You can’t imagine how happy that makes me.
">

  <meta name="author" content="Dave Thomas (pragdave)">

  <meta property="og:description"
        content="
  Eric Hodel is giving RDoc some love. You can’t imagine how happy that makes me.
">
  <meta property="og:site_name"
        content="
  
     A loud &quot;Huzzah!&quot; was heard throughout the land
  
">
  <meta property="og:type"
        content="website">
  <meta property="og:url"
        content="
  https://pragdave.me/blog/2008/01/07/a-loud-huzzah-was-heard-throughout-the-land.html
">
  <meta property="og:title"
        content="
  
     A loud &quot;Huzzah!&quot; was heard throughout the land
  
">


  <meta name="twitter:card"        content="summary">
  <meta name="twitter:description" content="
  Eric Hodel is giving RDoc some love. You can’t imagine how happy that makes me.
">
  <meta name="twitter:url"         content="
  https://pragdave.me/blog/2008/01/07/a-loud-huzzah-was-heard-throughout-the-land.html
">
  <meta name="twitter:site"        content="pragdave">

  <link rel="shortcut icon"
        href="/favicon.ico" type="image/x-icon" />
  <link rel="apple-touch-icon" href="/apple-touch-icon.png" />
  <link rel="apple-touch-icon" sizes="57x57"
        href="/apple-touch-icon-57x57.png" />
  <link rel="apple-touch-icon" sizes="72x72"
        href="/apple-touch-icon-72x72.png" />
  <link rel="apple-touch-icon" sizes="76x76"
        href="/apple-touch-icon-76x76.png" />
  <link rel="apple-touch-icon" sizes="114x114"
        href="/apple-touch-icon-114x114.png" />
  <link rel="apple-touch-icon" sizes="120x120"
        href="/apple-touch-icon-120x120.png" />
  <link rel="apple-touch-icon" sizes="144x144"
        href="/apple-touch-icon-144x144.png" />
  <link rel="apple-touch-icon" sizes="152x152"
        href="/apple-touch-icon-152x152.png" />
  <link rel="apple-touch-icon" sizes="180x180"
        href="/apple-touch-icon-180x180.png" />
  
  <title><%= page_title %></title>
  <link href="https://fonts.googleapis.com/css?family=Gloria+Hallelujah" rel="stylesheet">

  <link rel="stylesheet"
        href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css"
        integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ"
        crossorigin="anonymous">

  <link rel="canonical"
        href="
  https://pragdave.me/blog/2008/01/07/a-loud-huzzah-was-heard-throughout-the-land.html
">
  <link rel="alternate"
        type="application/rss+xml"
        title="pragdave—the coding gnome"
        href="/feed.xml">

  <script src="https://use.fontawesome.com/113445e025.js"></script>

  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', '', 'auto');
  ga('send', 'pageview');

</script>
  


  <link type="text/css" rel="stylesheet" href="/assets/app.css">

</head>


  <body>

    <div class="container">
      <header class="main-header">
  <div class="row bar">
    <div class="col-xs-12">
      <a href="/" title="Return to the main site">
        <span class="logo"></span>
      </a>
        <h1>A loud "Huzzah!" was heard throughout the land</h1>
    </div>
  </div>
  <div class="row mh-slug">
    <h3 class="col-xs-12">code better • have fun</h3>
  </div>
</header>





      <main role="main" aria-label="Content">
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <div class="row">
    <div class="col-md-4">
      <div class="related" >
        <h4>You might like:</h4>
        

<ul class="related">
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  

  
  
  
  

  
  
  
  
  <li>
      <a href="/blog/2016/05/03/pragdave-2.0.html">
        <small>03 May 2016</small>
        Pragdave 2.0
      </a>
  </li>
  
  
  

  
  
  
  
  
  
  <li>
      <a href="/blog/2016/02/23/over-using-with-in-elixir-1-dot-2.html">
        <small>23 Feb 2016</small>
        (Over)using <code>with</code> in Elixir 1.2
      </a>
  </li>
  
  
  

  
  
  
  
  <li>
      <a href="/blog/2015/11/13/immutability.html">
        <small>13 Nov 2015</small>
        Immutability, State, and Functions
      </a>
  </li>
  
  
  
  
  
</ul>

      </div>
    </div>
    <div class="col-md-8">
      <p class="post-meta">
        <time datetime="2008-01-07T00:00:00-06:00" itemprop="datePublished">Jan 7, 2008
        </time>
         | 
        
        

      </p>

      <div class="post-content" itemprop="articleBody">
        <p>Eric Hodel is giving RDoc <a href="http://blog.segment7.net/articles/2008/01/07/rdocs-templatepage-removed-from-ruby">some
love</a>. You can’t imagine how happy that makes me.</p>

<p>When I first wrote RDoc, I was trying to find a way of solving two
problems:</p>

<ul>
  <li>Adding comments to the largely uncommented C source of Ruby, and</li>
  <li>Providing a means for library writers easily to document their creations.</li>
</ul>

<p>I’d just finished the PickAxe, and I wanted to take the work Andy and
I had done reverse engineering the Ruby API and add it back into the
interpreter source code.</p>

<p>I set myself constraints with RDoc and ri:</p>

<ul>
  <li>it should produce at least some documentation even on totally
uncommented source files</li>
  <li>it should extract tacit information from the program source (for
example guessing good names for block parameters by looking for
yield statements inside methods)</li>
  <li>the markup in the source files should be unobtrusive. In the typical
case, someone reading the source should not even notice that the
comments follow markup conventions</li>
  <li>it should only use libraries that come pre-installed with Ruby</li>
  <li>the documentation it produced should be portable across machines and
architectures</li>
  <li>it should allow incremental documentation. Libraries that you
install over time can add methods to existing classes. As you add
these libraries, the method lists in the classes you extend should
grow to reflect the changes</li>
  <li>it should be secure. People pushed many times to add the ability to
execute code during the documentation process. I didn’t want to have
code run on an end user’s machine during a process that ostensibly
was simply installing documentation (particularly as these
installations often ran as root)</li>
  <li>it should be throw-away</li>
</ul>

<p>The last one might be a surprise, but the real objective of RDoc
wasn’t the tool. The real objective was to set a standard that meant
that future libraries would get documented in a consistent and usable
way. And so RDoc and ri compromised like crazy. Rather than a database
or some complex binary format, they used a set of directory trees in
the user’s filesystem to store documentation. This documentation,
which is basically a set of Ruby objects, was stored using YAML,
rather than marshaled objects or Ruby source. Even though YAML is
slow, it is more portable than marshaled objects, and more secure than
Ruby source. The parser in RDoc was a wild hack on the parser in
irb. This means it performs a static, not dynamic, analysis and that
it is sometimes confused by edge cases in Ruby syntax. So be it.</p>

<p>But the very worst part of RDoc/ri is the output side. I wanted to be
able to produce output in a variety of formats: HTML, plain text, XML,
chm, LaTeX, and so on. So the analysis side of RDoc produces a data
structure, and passes it to the output side. Here I made a stupid
design decision. What RDoc generates internally is basically nested
hashes. This has a couple of major advantages. In particular, there’s
a kind of fractal property when traversing it: it doesn’t matter how
deep you are in the structure—all you pass to the next routine down is
a hash. But it has a major downside—it’s a bitch to work with. If I
were doing it again, I’d use Structs.</p>

<p>Finally, there’s the generation of the output itself. I needed a
templating system and, for what seemed like good reasons at the time,
I wrote my own. It was only a handful of lines of code initially. It’s
still only a couple of hundred. It did a few things well, but
ultimately it was ugly as sin. But now, as Erb has become something of
a standard, it is definitely the right time to replace it.</p>

<p>RDoc and ri are, in a way, the ultimate <a href="http://en.wikipedia.org/wiki/Stone_soup">stone soup</a>. The
code itself is not the output of the project. The real output is the
thousands of libraries that are now self-documenting. Eric and the
crew are busy on the stew, replacing the stones with real and tasty
ingredients. When they are finished, we’ll be able to use all that
library documentation in remarkable new ways. So, a big thank you to
Eric and Seattle.rb, and to all the Ruby coders who’ve created such a
great base of documentation for us all.</p>

<p>Here’s to RDoc 2.0.</p>


      </div>
    </div>
  </div>

  
    

  <div id="disqus_thread"></div>
  <script>
    var disqus_config = function () {
      this.page.url = 'https://pragdave.me/blog/2008/01/07/a-loud-huzzah-was-heard-throughout-the-land.html';
      this.page.identifier = 'https://pragdave.me/blog/2008/01/07/a-loud-huzzah-was-heard-throughout-the-land.html';
    };

    (function() {
      var d = document, s = d.createElement('script');

      s.src = 'https://pragdave.disqus.com/embed.js';

      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>
  <noscript>
    Please enable JavaScript to view the
    <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
  </noscript>


  
</article>

      </main>


    </div>
    
    <footer class="footer">
  <div class="container">
    <nav class="nav nav-inline">
      <a class="nav-link active" href="/contact">Contact</a>
      <a class="nav-link" href="/privacy">Privacy</a>
      <a class="nav-link" href="/thanks">Thanks</a>
    </nav>
  </div>


</footer>


    <script
        src="https://code.jquery.com/jquery-3.1.1.min.js"
        integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="
        crossorigin="anonymous"></script>    
    <script
        src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js">
    </script>
  </body>

</html>
